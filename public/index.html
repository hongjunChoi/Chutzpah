<!DOCTYPE html>
<html>

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>StageLight</title>
    <meta name="author" content="" />
    <meta name="viewport" content="width=device-width">
    <meta name="viewport" content="initial-scale=1, maximum-scale=1, user-scalable=no">
    <!-- Typekit -->
    <script src="https://use.typekit.net/yzo6awb.js"></script>
    <script> try { Typekit.load({ async: true }); } catch (e) {} </script>
    <link rel="stylesheet" href="css/jquery-ui.min.css">
    <link rel="stylesheet" href="css/main.css" type="text/css" media="screen" />
    <script src='http://code.jquery.com/jquery-1.9.1.min.js'></script>
    <script type="text/javascript" src="/js/jquery.jplayer.min.js"></script>
    <link rel="shortcut icon" href="img/favicon.ico">
    <!-- <link type="text/css" href="/skin/pink.flag/css/jplayer.pink.flag.css" rel="stylesheet" /> -->
</head>

<body ng-app="myApp">
    <img id="logo" src="img/logo.svg" />

<!-- HEADER -->
    <header>
        <ul>
            <li id="loginregister">
                <p ng-hide="authenticated">
                    <a href="#/login">Login</a>or<a href="#/signup">Register</a>
                </p>
            </li>
            <li id="logininfo">
                <p ng-show="authenticated">signed in as <span>{{current_user}}</span></p>
                <p ng-show="authenticated"><a href="#" ng-click="signout()">Logout</a></p>
            </li>
            <!-- Buttons -->
            <li id="btn_search" alt="search"></li>
            <li id="btn_menu"><span></span><span></span><span></span></li>
        </ul>
    </header>

<!-- MAIN -->
    <main>
        <!-- Left Profile -->
        <div id="profilewrapper" ng-controller="profileController">
            <!-- Chatting -->
            <div id="chatwrapper">
            	<div class="chatheader"><button alt="close chat"></button></div>
            	<div class="chatmain"></div>
            	<div class="chatcontrol">
            		<input type="text" placeholder="Type a message"></input>
		            <div ng-click="get_chat()"> GET CHAT </div>
		            <div ng-click="send_chat()"> SEND CHAT </div>
		            <div ng-click="confirm_request()"> CONFIRM </div>
            		<!-- <input type="submit" value="send"></input> -->
            	</div>
            </div>
            <div>
	            <button id="profileclose"><span></span><span></span></button>
	            <div id="profile">
	                <img src="img/sample.jpg" />
	                <h3 id="user_profile_username"></h3>
	                <p id="user_profile_location"></p>
	                <p id="user_profile_genre"></p>
	                <p id="user_profile_description"></p>
	                <button id="openchat">Contact Eugene So</button>
	            </div>
	            <div id="related">
	                <h6>More songs by Eugene So</h6>
	                <ul id="user_post_wrapper">
	                    <!--related posts-->
	                </ul>
	            </div>
            </div>
        </div>

        <!-- Main screen -->
        <div id="mainscreen" ng-controller="mainController">
            <div ng-view></div>
            <div class="mainlist">
                <!-- content lists -->
                <ul id="listmenu">
                    <li>
                        <h6>Song</h6>
                        <h6>Artist</h6>
                        <p>Date</p>
                    </li>
                </ul>
                <ul class="postlist">
                    <li ng-repeat="post in posts">
                        <h6>{{ post.text }}</h6>
                        <h6>{{ post.created_by }}</h6>
                        <p>{{ post.created_at }}</p>
                    </li>
                </ul>
                <ul class="filelist">
                    <li ng-repeat="file in files" ng-click="start_music(file)">
                        <h6>{{ file.original_name }}</h6>
                        <h6>{{ file.created_by }}</h6>
                        <p>{{ file.created_at }}</p>
                    </li>
                </ul>
            </div>
            <div class="commentlist">
                <ul id="commentmain">
                </ul>
                <div class="commentField">
                    <form ng-Submit="upload_comment()" ng-show="authenticated">
                        <textarea required class="form-control" maxlength="200" rows="1" placeholder="Write a comment" ng-model="comment.text"></textarea>
                        <input type="submit" value="Add comment" />
                    </form>
                </div>
            </div>
        </div>

        <!-- Bottom Controller -->
        <div id="controller" ng-controller="profileController">
            <div id="thumbwrapper">
                <img id="userthumb" src="img/sample.jpg" ng-click="get_profile_info()" />
            </div>
            <div id="playerwrapper">
                <div id="jp_container_1" class="jp-video" role="application" aria-label="media player">
                    <div class="jp-type-single">
                        <div id="jquery_jplayer_1" class="jp-jplayer"></div>
                        <div class="jp-gui">
                            <div class="jp-video-play">
                                <button class="jp-video-play-icon" role="button" tabindex="0">play</button>
                            </div>
                            <div class="jp-interface">
                                <div class="jp-details">
                                    <div class="titlewrapper">
                                        <div class="artistname">{{current_user}}</div>
                                        <div class="jp-title" aria-label="title">&nbsp;</div>
                                    </div>
                                </div>
                                <div class="jp-controls-holder">
                                    <div class="jp-controls">
                                        <button class="jp-play ctrlbtn" role="button" tabindex="0"></button>
                                        <!-- <button class="jp-stop ctrlbtn" role="button" tabindex="0"></button> -->
                                    </div>
                                </div>
                                <div class="jp-details">
                                    <div class="progresswrapper">
                                        <div class="jp-current-time" role="timer" aria-label="time">&nbsp;</div>
                                        <div class="jp-progress">
                                            <div class="jp-seek-bar">
                                                <div class="jp-play-bar"></div>
                                            </div>
                                        </div>
                                        <div class="jp-duration" role="timer" aria-label="duration">&nbsp;</div>
                                    </div>
                                </div>
                                <div class="jp-controls-holder">
                                    <div class="jp-volume-controls">
                                        <button class="jp-mute ctrlbtn" role="button" tabindex="0"></button>
                                        <!-- <button class="jp-volume-max ctrlbtn" role="button" tabindex="0"></button> -->
                                        <div class="jp-volume-bar">
                                            <div class="jp-volume-bar-value"><span></span></div>
                                        </div>
                                    </div>
                                    <!--                                     <div class="jp-toggles">
                                        <button class="jp-repeat" role="button" tabindex="0">repeat</button>
                                        <button class="jp-full-screen" role="button" tabindex="0">full screen</button>
                                    </div> -->
                                </div>
                            </div>
                        </div>
                        <!--                         <div class="jp-no-solution">
                            <span>Update Required</span> To play the media you will need to either update your browser to a recent version or update your <a href="http://get.adobe.com/flashplayer/" target="_blank">Flash plugin</a>.
                        </div> -->
                    </div>
                </div>
            </div>
        </div>
    </main>

<!-- RIGHT NAVIGATION MENU -->
    <nav id="navwrapper">
        <ul>
            <li id="now_playing" ng-controller="mainController">
                <h4 ng-click="get_now_playing()">Now Playing</h4>
            </li>

            <!-- Search -->
            <li id="navsearch">
                <h4>search</h4>
                <div id="searchbar" ng-controller="searchController">
                    <form>
                        <input type="text" placeholder="Search Anything" onfocus="this.placeholder = ''" onblur="this.placeholder = 'Search Anything'" ng-model='search_string'>
                        <input type="submit" ng-click="search()">
                    </form>
                    <!-- THIS IS WHERE SEARCH RESULTS SHOW UP -->
                    <div>
                        <div ng-repeat="result in search_results">{{result}} </div>
                    </div>
                </div>
            </li>
            <li>
                <h4>trending</h4>
            </li>
            <li>
                <h4>saved</h4>
            </li>
            <li id="user_notification" ng-controller="profileController">
                <h4 ng-click="get_chat()">notification</h4>
                <ul id="chat_list"></ul>
            </li>

            <!-- Upload -->
            <li>
                <h4>upload</h4>
                <div id="uploadwrapper" ng-controller="mainController">
                    <div class="clearfix">
                        <div ng-show="authenticated">
                            <form ng-Submit="post()" ng-show="authenticated">
                                <textarea required class="form-control" maxlength="200" placeholder="copy link to your video" ng-model="newPost.text"></textarea>
                                <input class="btn submit-btn pull-right" type="submit" value="Add" />
                            </form>
                            <input class="uploadfilebtn" type="file" name="myFile" file-model="myFile" />
                            <input class="uploadbtn" type="submit" value="Upload" ng-click="upload()" />
                        </div>
                    </div>
                </div>
            </li>
        </ul>
    </nav>

<!-- angular js files   -->
<script src="/socket.io/socket.io.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.2.0/angular.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.2.0/angular-route.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.2.0/angular-resource.js"></script>
<!-- custom js files  -->
<script src="js/myApp.js"></script>
<script src="js/login.js"></script>
<!-- jquery - ui js  -->
<script src="js/jquery-ui.min.js"></script>
<script src="js/main.js"></script>
<script type="text/javascript">
$(document).ready(function() {
    $("#jquery_jplayer_1").jPlayer({
        ready: function() {
            $(this).jPlayer("setMedia", {
                title: "Big Buck Bunny Trailer",
                mp3: "/uploads/sample.mp3"
            });
        },
        cssSelectorAncestor: "#jp_container_1",
        swfPath: "/js",
        supplied: "mp3",
        useStateClassSkin: true,
        autoBlur: false,
        smoothPlayBar: true,
        keyEnabled: true,
        remainingDuration: true,
        toggleDuration: true
    });
});
</script>
</body>
</html>